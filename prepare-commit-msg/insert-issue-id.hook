#!/usr/bin/env python3
import sys
import re

def main():
  if len(sys.argv) < 2:
    sys.exit(0)
  commit_msg_file = sys.argv[1]
  if len(sys.argv) > 2 and sys.argv[2] in ("merge", "commit"):
    sys.exit(0)
  with open(commit_msg_file, "r+") as f:
    content = f.read()
    if not re.search(r"[A-Z]+-[0-9]+", content):
      f.seek(0)
      f.write("ISSUE-0000: " + content)
      f.truncate()

if __name__ == "__main__":
  main()